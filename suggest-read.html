<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions"%>
<%@ page trimDirectiveWhitespaces="true"%>
<!DOCTYPE html>
<html>
<head>
<!-- 저장시에 사용된 인코딩(파일의 저장 형식) 값을 웹 브라우저에게 알려준다. 
			- ANSI(euc-kr), UTF-8 -->
		<meta charset="utf-8"/>
		<!-- IE의 호환성 보기 모드 금지 -->
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<!-- 스마트 장치에서의 해상도 균일화 처리 -->
		<!-- <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=2.0, minimum-scale=1.0, user-scalable=yes,target-densitydpi=medium-dpi">  -->
		<meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0,
		maximum-scale=1.0,user-scalable=no">
		
		<title>YOUTHTORY</title>
<style type="text/css">
.nbar{
margin-left: -99%;
}
.proposal{
list-style: none; margin-bottom: 6%;  border: 1px solid #C6C6C6; width: 800px; height: 170px; border-radius: 10px;
}
.proposal:hover {
list-style: none; margin-bottom: 6%;  border: 3px solid #62986E; width: 800px; height: 170px; border-radius: 10px;
}
.proposal_none{
list-style: none;
}
/* <!-- 모든 버튼에대한 css설정 --> */
.btn{ 
      text-decoration: none;
      font-size:2rem;
      color:white;
      padding:10px 20px 10px 20px;
      margin:20px;
      display:inline-block;
      
      transition:all 0.1s;
      text-shadow: 0px -2px rgba(0, 0, 0, 0.44);
      
    }
    .btn:active{
      transform: translateY(3px);
    }
    .btn.green{
      background-color: #5FC587;
      border-bottom:5px solid #5FC587;
    }
    .btn.green:active{
      border-bottom:2px solid #5FC587;
    }
    .btn.red{
      background-color: #D3414D;
      border-bottom:5px solid #D3414D;
    }
    .btn.red:active{
      border-bottom:2px solid #D3414D;
    }
    .btn.black{
      background-color: #333333;
      border-bottom:5px solid #333333;
      margin-left: 78%;
    }
    .btn.black:active{
      border-bottom:2px solid #333333;
    }


</style>
		<!-- bootstrap -->
		<link href="${pageContext.request.contextPath}/asset/js/bootstrap.min.js" rel="stylesheet"/>
        <link href="${pageContext.request.contextPath}/asset/css/bootstrap.min.css" rel="stylesheet"/>

</head>
<body>
<%@ include file="/WEB-INF/views/inc/navbar.jsp" %>
<div style="position: relative; z-index: -30; height: 200px; text-align: center; margin-top: -4%; background-image: url(../img/top_background.png); background-size: 1920px 240px; margin-bottom: 30px;">

<h2 style="border-bottom: 2px solid #000000;margin: auto;width: 6%; padding-top: 5%; z-index: 500; font-weight: bold;">제안</h2>

</div>
    <section>
    
    <div style="margin-left: 17%; margin-right: 13%;">
    
      
      
      <div style="border-bottom: 1px solid #4B9A6A; font-size: 15px; font-weight: bold;height: 40px; margin-top: 20px; width: 94%">
        
      
      </div>
  <div style="border-bottom: 1px solid #CCCCCC; width: 94%">
  		<p>
      		<c:if test="${readPropo.pro_cate eq '교육'}"><img style="width: 60px;" alt="교육" src="./images/icon_edu.png"></c:if>
      		<c:if test="${readPropo.pro_cate eq '문화'}"><img style="width: 60px;" alt="문화" src="./images/icon_culture.png"></c:if>
      		<c:if test="${readPropo.pro_cate eq '환경'}"><img style="width: 60px;" alt="환경" src="./images/icon_environment.png"></c:if>
      		<c:if test="${readPropo.pro_cate eq '안전'}"><img style="width: 60px;" alt="안전" src="./images/icon_safety.png"></c:if>
      		<c:if test="${readPropo.pro_cate eq '기타'}"><img style="width: 60px;" alt="기타" src="./images/icon_etc.png"></c:if>
      		
      	</p>
      	<p style="float: left;margin-left: 1.5%;">${readPropo.pro_cate}</p>
      	<p style="margin-left: 10%; font-size: 20px; margin-top: -15px; font-weight: bold;">${readPropo.pro_sub}</p>
      	<p style="float: left;margin-top: 30px;"><strong>• 제안기간</strong>&nbsp;&nbsp;        ${readPropo.regdate} ~ ${readPropo.end_date}</p>
      	
      	<p style="float: left; margin-top: 30px; margin-left: 5%;"><strong>• 작성자</strong>&nbsp;&nbsp;        ${readPropo.pro_user_name}</p>
      	<p style="float: left; margin-top: 30px;margin-left: 50%;margin-right: 5%;"><img style="width: 20px;" alt="좋아요" src="./images/icon_like.png">&nbsp;${readPropo.pro_agree}</p>
      	<p style="margin-top: 41px;margin-left: 1%;"><img style="width: 20px;" alt="조회수" src="./images/icon_see.png">&nbsp;${readPropo.pro_hit}</p>
   </div>      	
      	
    <div style="border-bottom: 1px solid #CCCCCC; width: 94%">  	
      	<h3 style="border-bottom: 1px solid #000000;width: 5.5%; padding-top: 5%; z-index: 500; font-weight: bold;">배경</h3>
      	<p style="white-space: pre-line;">${readPropo.pro_content1}</p>
      	<h3 style="border-bottom: 1px solid #000000;width: 11%; padding-top: 5%; z-index: 500; font-weight: bold;">주요내용</h3>
      	<p style="white-space: pre-line;">${readPropo.pro_content2}</p>
      	<h3 style="border-bottom: 1px solid #000000;width: 11%; padding-top: 5%; z-index: 500; font-weight: bold;">기대효과</h3>
      	<p style="white-space: pre-line; margin-bottom: 80px;">${readPropo.pro_content3}</p>
      	
      
        
         
     </div>
     
     <c:if test="${readPropo.pro_show eq 0}"><a class="btn green" href="${pageContext.request.contextPath}/proposal/admin_blind_proposal.do?idx=${readPropo.idx}" onclick="return confirm('이 제안글을 숨김처리 하시겠습니까?');">숨김</a></c:if>
     <c:if test="${readPropo.pro_show eq 1}"><a class="btn red" href="${pageContext.request.contextPath}/proposal/admin_show_proposal.do?idx=${readPropo.idx}" onclick="return confirm('숨김처리를 해제 하시겠습니까?');">숨김해제</a></c:if>
     <a class="btn black" href="${pageContext.request.contextPath}/proposal/admin_proposal_list.do">목록으로</a>
	<p></p>
	
	<div style="border-bottom: 1px solid #4B9A6A; font-size: 15px; font-weight: bold;height: 40px; margin-top: 20px; width: 94%"></div>
	
	<div>
		<img style="width: 40px;float: left;margin-top: 14px;" alt="제안답변" src="./images/balloon.png">
		<p style="margin-left: 8.5%;padding-top: 20px;font-weight: bold;font-size: 18px;">제안 답변</p>
	</div>
	<div style="border-bottom: 1px solid #CCCCCC; font-size: 15px; font-weight: bold; margin-top: 20px; width: 94%"></div>
	
	<div>
	 <c:choose>
	<c:when test="${null eq readAnswer}">
	<form class="form-horizontal answer_insert" id="answer_insert" method="get"  action="${pageContext.request.contextPath}/proposal/admin_proposal_answer.do">
	    <input type="hidden" name="pro_idx" id="pro_idx" value="${readPropo.idx}">
		<input style="margin-top: 2%;margin-bottom: 2%;"" type="radio" name="pro_state" id="pro_state" value="2">실현
		<input style="    margin-left: 20px;" type="radio" name="pro_state" id="pro_state" value="1">종료
		
		<textarea style="width: 94%; height:400px;" id="ans_con" rows="ans_con" name="ans_con" wrap="hard"  placeholder="제안 답변을 달아주세요."></textarea>
		<script type="text/javascript">
			    
				var str = document.getElementById("ans_con").value;

				str = str.replace(/(?:<br>)/gi, "\r\n");
				
				document.getElementById("ans_con").value = str;
				
				function br_insert() {
					var str = document.getElementById("ans_con").value;

					str = str.replace(/(?:\r\n|\r|\n)/g, '<br>');
					
					document.getElementById("ans_con").value = str;
				}
			</script>
		
		<button style="margin-right: 5.8%; float: right;" type="submit">답변등록</button>
	</form>
	</c:when>
	<c:otherwise>
	<p style="white-space: pre-line;margin-top: 5%;">${readAnswer.ans_con}</p>
	<p style="white-space: pre-line; float: right; margin-right: 5.8%;margin-top: 2%;">• 작성일 : ${readAnswer.editdate}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; • 작성자 : 관리자</p>
	<a style="margin-top: 8%;" class="btn green" href="${pageContext.request.contextPath}/proposal/admin_answer_edit.do?ans_idx=${readAnswer.idx}&pro_idx=${readPropo.idx}" >수정</a>
	</c:otherwise>
	</c:choose>
	
	</div>
	
	<div style="border-bottom: 1px solid #CCCCCC; font-size: 15px; font-weight: bold;height: 40px; margin-top: 20px; width: 94%"></div>
        
        <div style="margin-left: 13%; margin-right: 13%;">
         <c:choose>
        <c:when test="${fn:length(comList) > 0}">
          <c:forEach var="comList" items="${comList}">
          
          <ul style="list-style: none;">
          		
          		
          		<li style="width: 730px; margin-top: 20px; margin-bottom: 20px;">${comList.com_name}&nbsp; | &nbsp;${comList.editdate}</li>
          		<li style=" float: right; margin-right: 15%; margin-left: -20%;"></li>
          		<li style="white-space: pre-line;padding-top: 10px;">${comList.comment}</li>
          		
          		
          </ul>
          <div style="border-bottom: 1px solid #CCCCCC;"></div>
           </c:forEach>
        </c:when>
        <c:otherwise>
          <ul class="proposal_none">
            <li  class="text-center" style="line-height: 100px">조회된 댓글 리스트가 없습니다.</li>
          </ul>
          
        </c:otherwise>
      </c:choose>
     
	<div>
      
      </div>
	</div>
    </section>
    <div class="cleafix"></div>
    
    
        <%@ include file="/WEB-INF/views/inc/footer.jsp" %>

</body>
</html>